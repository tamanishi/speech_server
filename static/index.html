<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8">
    <title>speech</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
    <script lang="javascript">
      function speak() {
        const text = document.getElementById('text').value;
        const speaker = document.querySelector('input[name="speaker"]:checked').value;
        const speed = document.getElementById('speed').value;
        const pitch = document.getElementById('pitch').value;
        const emotion = document.querySelector('input[name="emotion"]:checked').value;
        const emotion_level = document.querySelector('input[name="emotion_level"]:checked').value;
        const obj = {
          text: text,
          speaker: speaker,
          speed: speed,
          pitch: pitch,
          emotion: emotion,
          emotion_level: emotion_level
        };
        const method = "POST";
        const body = JSON.stringify(obj);
        const headers = {
          'Content-Type': 'application/json'
        };
        fetch("./speech", {method, headers, body})
        .then((res) => {
          // console.log(res);
        })
        .catch((err) => {
          console.error(err)
        });
      }
    </script>
    <style>
      li {
        list-style: none
      }
      span.title {
        font-size: larger;
      }
      span.desc {
        font-size: x-small;
      }
    </style>
  </head>
  <body>
    <div class='container'>
      <table class='table table-borderless'>
        <tbody>
          <tr>
            <th scope='row'><h5>text</h5></th>
            <td>
              <textarea class='form-control' id='text' rows='10'></textarea>
            </td>
          </tr>
          <tr>
            <th scope='row'><h5>speaker</h5></th>
            <td>
              <div class="btn-group" role="group" aria-label="Basic radio toggle button group">
                <input type="radio" class="btn-check" name="speaker" id="speaker_show" value="show" autocomplete="off" checked>
                <label class="btn btn-outline-primary" for="speaker_show">show</label>
              
                <input type="radio" class="btn-check" name="speaker" id="speaker_haruka" value="haruka" autocomplete="off">
                <label class="btn btn-outline-primary" for="speaker_haruka">haruka</label>
              
                <input type="radio" class="btn-check" name="speaker" id="speaker_hikari" value="hikari" autocomplete="off">
                <label class="btn btn-outline-primary" for="speaker_hikari">hikari</label>

                <input type="radio" class="btn-check" name="speaker" id="speaker_takeru" value="takeru" autocomplete="off">
                <label class="btn btn-outline-primary" for="speaker_takeru">takeru</label>

                <input type="radio" class="btn-check" name="speaker" id="speaker_santa" value="santa" autocomplete="off">
                <label class="btn btn-outline-primary" for="speaker_santa">santa</label>

                <input type="radio" class="btn-check" name="speaker" id="speaker_bear" value="bear" autocomplete="off">
                <label class="btn btn-outline-primary" for="speaker_bear">bear</label>
              </div>
            </td>
          </tr>
          <tr>
            <th scope='row'><h5>speed</h5></th>
            <td>
                <input type='range' class='form-range w-75' value='100' min='50' max='200' step='10' id='speed'>
            </td>
          </tr>
          <tr>
            <th scope='row'><h5>pitch</h5></th>
            <td>
              <input type='range' class='form-range w-75' value='100' min='50' max='200' step='10' id='pitch'>
            </td>
          </tr>
          <tr>
            <th scope='row'><h5>emotion</h5></th>
            <td>
              <div class="btn-group" role="group" aria-label="Basic radio toggle button group">
                <input type="radio" class="btn-check" name="emotion" id="emotion_none" value="" autocomplete="off" checked>
                <label class="btn btn-outline-secondary" for="emotion_none">none</label>
              
                <input type="radio" class="btn-check" name="emotion" id="emotion_happiness" value="happiness" autocomplete="off">
                <label class="btn btn-outline-warning" for="emotion_happiness">happiness</label>
              
                <input type="radio" class="btn-check" name="emotion" id="emotion_anger" value="anger" autocomplete="off">
                <label class="btn btn-outline-danger" for="emotion_anger">anger</label>

                <input type="radio" class="btn-check" name="emotion" id="emotion_sadness" value="sadness" autocomplete="off">
                <label class="btn btn-outline-info" for="emotion_sadness">sadness</label>
              </div>
              <span class='desc'>works for the following speakers. haruka, hikari, takeru, santa and bear.</span>
            </td>
          </tr>
          <tr>
            <th scope='row'><h5>emotion level</h5></th>
            <td>
              <div class="btn-group" role="group" aria-label="Basic radio toggle button group">
                <input type="radio" class="btn-check" name="emotion_level" id="emotion_level_show" value="" autocomplete="off" checked>
                <label class="btn btn-outline-secondary" for="emotion_level_noene">none</label>
              
                <input type="radio" class="btn-check" name="emotion_level" id="emotion_level_1" value="1" autocomplete="off">
                <label class="btn btn-outline-primary" for="emotion_level_1">1</label>
              
                <input type="radio" class="btn-check" name="emotion_level" id="emotion_level_2" value="2" autocomplete="off">
                <label class="btn btn-outline-primary" for="emotion_level_2">2</label>

                <input type="radio" class="btn-check" name="emotion_level" id="emotion_level_3" value="3" autocomplete="off">
                <label class="btn btn-outline-primary" for="emotion_level_3">3</label>

                <input type="radio" class="btn-check" name="emotion_level" id="emotion_level_4" value="4" autocomplete="off">
                <label class="btn btn-outline-primary" for="emotion_level_4">4</label>
              </div>
              <span class='desc'>works for the following speakers. haruka, hikari, takeru, santa and bear.</span>
            </td>
          </tr>
          <tr>
            <th scope='row'>
              <button type='button' class='btn btn-primary' onclick="speak()">speak</button></h5>
            </th>
            <td></td>
          </tr>
        </tbody>
      </table>
    </div>
  </body>
</html>
